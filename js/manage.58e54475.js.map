{"version":3,"sources":["webpack:///./src/views/Manage.vue","webpack:///./src/views/Manage.vue?47d5"],"names":["class","posts","post","key","id","title","deletPost","routepage","pid","length","beforeMount","this","getAllPosts","methods","$supabase","from","select","order","ascending","data","error","console","log","confirm","delete","eq","$router","push","name","params","render"],"mappings":"kIACOA,MAAM,kB,GACJA,MAAM,e,GAMFA,MAAM,qB,GACFA,MAAM,a,GACRA,MAAM,c,GACLA,MAAM,e,GAGLA,MAAM,Y,gBAEH,gCAA6B,KAA1BA,MAAM,gBAAc,S,+BAAM,Y,GAA7B,E,mBAGA,gCAA2B,KAAxBA,MAAM,eAAa,S,+BAAK,U,GAA3B,E,8JAlBlB,gCA0BM,MA1BN,EA0BM,CAzBJ,gCAwBM,MAxBN,EAwBM,E,2BAvBJ,gCAsBM,2CApBW,EAAAC,OAAK,SAAbC,G,gCAFT,gCAsBM,OArBJF,MAAM,gCAELG,IAAKD,EAAKE,I,CAEX,gCAgBM,MAhBN,EAgBM,CAfF,gCAcM,MAdN,EAcM,CAbR,gCAYM,MAZN,EAYM,CAXJ,gCAEK,KAFL,EAEK,6BADEF,EAAKG,OAAK,GAEjB,gCAOM,MAPN,EAOM,CANF,gCAES,UAFDL,MAAM,sBAAuB,QAAK,uCAAe,EAAAM,UAAUJ,EAAKE,MAAE,c,OAG1E,gCAES,UAFDJ,MAAM,kBAAmB,QAAK,uCAAe,EAAAO,UAAUL,EAAKM,OAAG,c,8BAU1D,GAAZ,EAAAP,MAAMQ,Q,yBAArB,yBAAmC,Y,4DAItB,G,UAAA,CACbC,YADa,WAEXC,KAAKC,eAGPC,QAAS,CACDD,YADC,WACa,kLACU,EAAKE,UAC9BC,KAAK,SACLC,OAAO,KACPC,MAAM,KAAM,CAAEC,WAAW,IAJV,gBACZC,EADY,EACZA,KAAMC,EADM,EACNA,MAIRA,EACFC,QAAQC,IAAIF,GAEZ,EAAKnB,MAAQkB,EARG,8CAWdb,UAZC,SAYSF,GAAG,qKACfiB,QAAQC,IAAIlB,GACRmB,QAAQ,gBAFG,iEAKW,EAAKT,UAC9BC,KAAK,SACLS,SACAC,GAAG,KAAKrB,GARM,gBAKVe,EALU,EAKVA,KAAMC,EALI,EAKJA,MAIRA,EACCC,QAAQD,MAAMA,IAGdC,QAAQC,IAAIH,GAEZ,EAAKP,eAfM,8CAkBnBL,UA9BO,SA8BGC,GACRG,KAAKe,QAAQC,KAAK,CAACC,KAAK,OAAQC,OAAO,CAACrB,IAAKA,OAGjDW,KAvCa,WAwCX,MAAO,CACLlB,MAAO,O,qBCpEe,iBAAgB,EAAQ,CAAC,CAAC,SAAS6B","file":"js/manage.58e54475.js","sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <div class=\"row mx-auto\">\n      <div\n        class=\"col-12 col-xl-4 col-md-6 py-3\"\n        v-for=\"post in posts\"\n        :key=\"post.id\"\n      >\n        <div class=\"card color-purple\">\n            <div class=\"card-body\">\n          <div class=\"card-title\">\n            <h4 class=\"color-white\">\n                {{ post.title }}\n            </h4>\n            <div class=\"btn-wrap\">\n                <button class=\"btn btn-danger me-3\" @click.prevent=\"()=>{deletPost(post.id)}\">\n                    <i class=\"fas fa-trash\" ></i> Delete\n                </button>\n                <button class=\"btn btn-primary\" @click.prevent=\"()=>{routepage(post.pid)}\">\n                    <i class=\"fas fa-edit\"></i> Edit\n                </button>\n            </div>\n          </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Loading v-if=\"posts.length == 0\"/>\n</template>\n\n<script>\nexport default {\n  beforeMount() {\n    this.getAllPosts()\n    \n  },\n  methods: {\n    async getAllPosts() {\n      let { data, error } = await this.$supabase\n        .from(\"Posts\")\n        .select(\"*\")\n        .order(\"id\", { ascending: false });\n      if (error) {\n        console.log(error);\n      } else {\n        this.posts = data;\n      }\n    },\n    async deletPost(id){\n        console.log(id)\n        if(!confirm(\"delete post?\")){\n            return\n        }\n        let {data, error} = await this.$supabase\n        .from('Posts')\n        .delete()\n        .eq('id',id);\n        if(error){\n            console.error(error);\n        }\n        else{\n            console.log(data)\n            // update \n            this.getAllPosts();\n        }\n    },\n    routepage(pid){\n      this.$router.push({name:'Edit', params:{pid: pid}})\n    }\n  },\n  data() {\n    return {\n      posts: [],\n    };\n  },\n};\n</script>","import { render } from \"./Manage.vue?vue&type=template&id=99009c28\"\nimport script from \"./Manage.vue?vue&type=script&lang=js\"\nexport * from \"./Manage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kazuma\\\\dev\\\\blog\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])"],"sourceRoot":""}